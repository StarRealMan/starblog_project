(()=>{const e=document.documentElement,t="user-color-scheme",r="data-user-color-scheme",c=document.getElementById("darkmode-switch"),l=e=>{try{return localStorage.getItem(e)}catch(e){return null}},a=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",o=()=>{e.removeAttribute(r),(e=>{try{localStorage.removeItem(e)}catch(e){}})(t)},d={dark:!0,light:!0},m=c=>{const m=c||l(t);m===a()?o():d[m]?e.setAttribute(r,m):o()},n={dark:"light",light:"dark"},s=()=>{let e=l(t);if(d[e])e=n[e];else{if(null!==e)return;e=n[a()]}return((e,t)=>{try{localStorage.setItem(e,t)}catch(e){}})(t,e),e};m(),c.addEventListener("click",(()=>{m(s())}))})();